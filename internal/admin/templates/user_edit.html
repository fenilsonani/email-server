<div class="page-header">
    <h1>Edit User</h1>
</div>

<div class="card" style="max-width: 500px;">
    {{if .Error}}
    <div class="alert alert-danger">{{.Error}}</div>
    {{end}}
    {{if .Success}}
    <div class="alert alert-success">{{.Success}}</div>
    {{end}}

    <p style="margin-bottom: 1.5rem; color: var(--text-muted);">
        Editing: <strong>{{.Email}}</strong>
    </p>

    <form method="POST" action="/admin/users/edit/{{.UserID}}">
        <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">

        <div class="form-group">
            <label for="password">New Password</label>
            <input type="password" id="password" name="password" class="form-control"
                   minlength="8" placeholder="Leave blank to keep current password">
            <small style="color: var(--text-muted);">Only fill this if you want to change the password</small>
        </div>

        <div class="form-group">
            <label class="form-check">
                <input type="checkbox" name="is_admin" {{if .IsAdmin}}checked{{end}}>
                <span>Admin privileges</span>
            </label>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="/admin/users" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
